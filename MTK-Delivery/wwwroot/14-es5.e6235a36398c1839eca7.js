!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){i=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return r}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw a}}}}function r(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14,18,19],{"+cje":function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r("HDdC"),o=r("XEKg"),c=r("5Jak"),s=r("/GcI"),u=r("cxbk"),l=r("fXoL"),d=r("tk/3"),f=function(){var e=function(){function e(t){i(this,e),this.http=t,this.APIURL=u.a.apiURL}return a(e,[{key:"create",value:function(e){return this.http.post(this.APIURL+"/Restaurant",e)}},{key:"getAllRestaurant",value:function(){return this.http.get(this.APIURL+"/Restaurant")}},{key:"updateRestaurant",value:function(e){return this.http.put(this.APIURL+"/Restaurant/",e)}},{key:"removeRestaurant",value:function(e){return this.http.delete(this.APIURL+"/Restaurant/"+e).toPromise()}},{key:"handleError",value:function(e){return n.a.throw(400===e.status?new o.a(e.json()):404===e.status?new c.a:new s.a(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.cc(d.a))},e.\u0275prov=l.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"+p+5":function(e,t,r){"use strict";r.r(t),r.d(t,"OrderPageModule",function(){return j});var n=r("ofXK"),o=r("3Pt+"),c=r("TEn/"),s=r("tyNb"),u=r("mrSG"),l=r("YHxn"),d=r("fXoL"),f=r("Dkj+"),h=r("VNSQ"),b=r("6wYF"),m=r("8D9V"),g=r("ldse"),v=r("+cje"),p=r("Wwn5"),O=["pageTop"];function y(e,t){if(1&e){var r=d.Wb();d.Vb(0,"ion-row",17),d.gc("click",function(){d.wc(r);var e=t.$implicit;return d.ic(2).allOrder(e,e.id)}),d.Vb(1,"ion-col",18),d.Vb(2,"ion-label"),d.Ec(3),d.Vb(4,"p"),d.Ec(5),d.jc(6,"date"),d.Ub(),d.Ub(),d.Vb(7,"ion-text",19),d.Vb(8,"b"),d.Ec(9),d.jc(10,"currency"),d.Ub(),d.Ub(),d.Ub(),d.Vb(11,"ion-col",20),d.Vb(12,"ion-label",21),d.Ec(13),d.Ub(),d.Ub(),d.Ub()}if(2&e){var n=t.$implicit;d.Eb(3),d.Gc(" ",n.restaurantName," "),d.Eb(2),d.Fc(d.lc(6,4,n.DateTime,"short")),d.Eb(4),d.Gc("Total : ",d.lc(10,7,n.Total,"ETB"),""),d.Eb(4),d.Fc(n.OrderStatus)}}function k(e,t){if(1&e&&(d.Vb(0,"ion-label",22),d.Ec(1),d.Ub()),2&e){var r=d.ic(2);d.Eb(1),d.Fc(r.messageOrder)}}function w(e,t){if(1&e&&(d.Vb(0,"ion-list"),d.Cc(1,y,14,10,"ion-row",15),d.Cc(2,k,2,1,"ion-label",16),d.Ub()),2&e){var r=d.ic();d.Eb(1),d.oc("ngForOf",r.listOfOrder),d.Eb(1),d.oc("ngIf",0==r.listOfOrder.length)}}function I(e,t){if(1&e){var r=d.Wb();d.Vb(0,"ion-row",24),d.Vb(1,"ion-col",18),d.Vb(2,"ion-label"),d.Ec(3),d.Vb(4,"p"),d.Ec(5),d.jc(6,"date"),d.Ub(),d.Vb(7,"ion-button",25),d.gc("click",function(){d.wc(r);var e=t.$implicit;return d.ic(2).location(e.Location)}),d.Rb(8,"ion-icon",26),d.Ub(),d.Ub(),d.Vb(9,"ion-text",19),d.Vb(10,"b"),d.Ec(11),d.jc(12,"currency"),d.Ub(),d.Ub(),d.Rb(13,"br"),d.Vb(14,"ion-text",27),d.Ec(15),d.Ub(),d.Ub(),d.Vb(16,"ion-col",20),d.Vb(17,"ion-label",21),d.Ec(18),d.Ub(),d.Vb(19,"ion-button",28),d.gc("click",function(){d.wc(r);var e=t.$implicit;return d.ic(2).viewOrder(e.id)}),d.Ec(20," view order "),d.Ub(),d.Vb(21,"button",29),d.gc("click",function(){d.wc(r);var e=t.$implicit;return d.ic(2).sendMessage(e.DriverId,e.CustomerId,e.Driver)}),d.Ec(22," Send message "),d.Ub(),d.Vb(23,"button",30),d.gc("click",function(){d.wc(r);var e=t.$implicit;return d.ic(2).callToDriver(e.driverPhonenumber)}),d.Rb(24,"ion-icon",31),d.Ub(),d.Ub(),d.Ub()}if(2&e){var n=t.$implicit;d.Eb(3),d.Gc(" ",n.restaurantName," "),d.Eb(2),d.Fc(d.lc(6,5,n.DateTime,"short")),d.Eb(6),d.Gc("Total : ",d.lc(12,8,n.Total,"ETB"),""),d.Eb(4),d.Gc("",n.Driver," is picking up your order "),d.Eb(3),d.Fc(n.OrderStatus)}}function C(e,t){if(1&e&&(d.Vb(0,"ion-label",22),d.Ec(1),d.Ub()),2&e){var r=d.ic(2);d.Eb(1),d.Fc(r.messageOrder)}}function U(e,t){if(1&e&&(d.Vb(0,"ion-list"),d.Cc(1,I,25,11,"ion-row",23),d.Cc(2,C,2,1,"ion-label",16),d.Ub()),2&e){var r=d.ic();d.Eb(1),d.oc("ngForOf",r.listOfOrderProcessing),d.Eb(1),d.oc("ngIf",0==r.listOfOrderProcessing.length)}}function R(e,t){if(1&e){var r=d.Wb();d.Vb(0,"ion-row",24),d.Vb(1,"ion-col",18),d.Vb(2,"ion-label"),d.Ec(3),d.Vb(4,"p"),d.Ec(5),d.jc(6,"date"),d.Ub(),d.Vb(7,"ion-button",25),d.gc("click",function(){d.wc(r);var e=t.$implicit;return d.ic(2).location(e.Location)}),d.Rb(8,"ion-icon",26),d.Ub(),d.Ub(),d.Vb(9,"ion-text",19),d.Vb(10,"b"),d.Ec(11),d.jc(12,"currency"),d.Ub(),d.Ub(),d.Ub(),d.Vb(13,"ion-col",20),d.Vb(14,"ion-label",21),d.Ec(15),d.Ub(),d.Vb(16,"ion-button",28),d.gc("click",function(){d.wc(r);var e=t.$implicit;return d.ic(2).viewOrder(e.id)}),d.Ec(17," view order "),d.Ub(),d.Ub(),d.Ub()}if(2&e){var n=t.$implicit;d.Eb(3),d.Gc(" ",n.restaurantName," "),d.Eb(2),d.Fc(d.lc(6,4,n.DateTime,"short")),d.Eb(6),d.Gc("Total : ",d.lc(12,7,n.Total,"ETB"),""),d.Eb(4),d.Fc(n.OrderStatus)}}function E(e,t){if(1&e&&(d.Vb(0,"ion-label",22),d.Ec(1),d.Ub()),2&e){var r=d.ic(2);d.Eb(1),d.Fc(r.messageOrder)}}function x(e,t){if(1&e&&(d.Vb(0,"ion-list"),d.Cc(1,R,18,10,"ion-row",23),d.Cc(2,E,2,1,"ion-label",16),d.Ub()),2&e){var r=d.ic();d.Eb(1),d.oc("ngForOf",r.listOfOrderCompeleted),d.Eb(1),d.oc("ngIf",0==r.listOfOrderCompeleted.length)}}function P(e,t){if(1&e){var r=d.Wb();d.Vb(0,"ion-row",24),d.Vb(1,"ion-col",18),d.Vb(2,"ion-label"),d.Ec(3),d.Vb(4,"p"),d.Ec(5),d.jc(6,"date"),d.Ub(),d.Vb(7,"ion-button",25),d.gc("click",function(){d.wc(r);var e=t.$implicit;return d.ic(2).location(e.Location)}),d.Rb(8,"ion-icon",26),d.Ub(),d.Ub(),d.Vb(9,"ion-text",19),d.Vb(10,"b"),d.Ec(11),d.jc(12,"currency"),d.Ub(),d.Ub(),d.Ub(),d.Vb(13,"ion-col",20),d.Vb(14,"ion-label",21),d.Ec(15),d.Ub(),d.Vb(16,"ion-button",28),d.gc("click",function(){d.wc(r);var e=t.$implicit;return d.ic(2).viewOrder(e.id)}),d.Ec(17," view order "),d.Ub(),d.Ub(),d.Ub()}if(2&e){var n=t.$implicit;d.Eb(3),d.Gc(" ",n.restaurantName," "),d.Eb(2),d.Fc(d.lc(6,4,n.DateTime,"short")),d.Eb(6),d.Gc("Total : ",d.lc(12,7,n.Total,"ETB"),""),d.Eb(4),d.Fc(n.OrderStatus)}}function S(e,t){if(1&e&&(d.Vb(0,"ion-label",22),d.Ec(1),d.Ub()),2&e){var r=d.ic(2);d.Eb(1),d.Fc(r.messageOrder)}}function V(e,t){if(1&e&&(d.Vb(0,"ion-list"),d.Cc(1,P,18,10,"ion-row",23),d.Cc(2,S,2,1,"ion-label",16),d.Ub()),2&e){var r=d.ic();d.Eb(1),d.oc("ngForOf",r.listOfOrderCancelled),d.Eb(1),d.oc("ngIf",0==r.listOfOrderCancelled.length)}}var T,D,A,L=[{path:"",component:(T=function(){function e(t,r,n,o,a,c,s,u,l,d,f,h){var b=this;i(this,e),this.foodService=t,this.orderService=r,this.accountService=n,this.orderDetailsService=o,this.router=a,this.sharedService=c,this.alertCtrl=s,this.restaurantService=u,this.modalController=l,this.callNumber=d,this.loadingController=f,this.toastController=h,this.listOfOrder=[],this.cart=[],this.messageOrder="Preparing your order ...",this.opts={freeMode:!0,slidesPerView:4.6,slidesOffsetBefore:100,slidesOffsetAfter:100},this.activeCategory=0,this.segment="All",this.listOfOrderProcessing=[],this.listOfOrderCompeleted=[],this.listOfOrderCancelled=[],this.isLoading=!1,this.showLocationDetail=!1,this.currentPage=1,this.restaurantService.getAllRestaurant().subscribe(function(e){b.listOfRestaurant=e})}return a(e,[{key:"pageScroller",value:function(){this.pageTop.scrollToTop()}},{key:"ngOnInit",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({message:"Getting Products ...",spinner:"bubbles",animated:!0});case 2:return this.loader=e.sent,e.next=5,this.loader.present().then();case 5:this.getRestaurant(),this.getFood(),this.getOrder(),this.getOrderDetails(),this.getProcessingOrder(),this.getCompeletedOrder(),this.getCancelledOrder();case 12:case"end":return e.stop()}},e,this)}))}},{key:"getRestaurant",value:function(){var e=this;this.restaurantService.getAllRestaurant().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:this.listOfRestaurant=t;case 3:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))})}},{key:"getFood",value:function(){var e=this;this.foodService.getAllFood().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:this.listOfFood=t;case 3:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))})}},{key:"getOrderDetails",value:function(){var e=this;this.orderDetailsService.getAllOrderDetail().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:this.listOfOrderDetails=t;case 3:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))})}},{key:"onScroll",value:function(e){this.showLocationDetail=e.detail.scrollTop>40}},{key:"getOrder",value:function(){var e=this;this.listOfOrder=[],this.orderService.getAllOrder().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:this.UserId=localStorage.getItem("userId"),(r=t.filter(function(e){return e.customer===n.UserId})).length>0?r.forEach(function(e){n.accountService.getAllAccount().subscribe(function(t){n.getStatusOfOrder(e);var r=n.listOfRestaurant.find(function(t){return t.id===+e.restaurantId}),i={id:e.id,DateTime:e.dateTime,Customer:t.find(function(t){return t.id===+e.customer}).fullName,Location:e.location,OrderStatus:n.orderStatuses,Total:e.total,Driver:e.driver,Vehicle:e.vehicle,orderNo:e.orderNo,orderLocation:e.orderLocation,restaurantName:r.name};n.listOfOrder.push(i),console.log(n.listOfOrder.length),n.listOfOrder.sort(function(e,t){return new Date(t.DateTime).getTime()-new Date(e.DateTime).getTime()})})}):(this.massge=!0,this.messageOrder="Preparing your order ...");case 5:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))})}},{key:"getProcessingOrder",value:function(){var e=this;this.orderService.getAllOrder().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:this.listOfOrderProcessing=[],this.UserId=localStorage.getItem("userId"),(r=t.filter(function(e){return e.orderStatuses.find(function(e){return 0==e.isChecked&&"delivered"==e.val})&&e.customer==n.UserId})).length>0?r.forEach(function(e){""!==e.driver&&n.accountService.getAllAccount().subscribe(function(t){var r=t.find(function(t){return t.id==e.customer}),i=t.find(function(t){return t.id==e.driver});n.getStatusOfOrder(e),i?(n.driverPhone=i.phonenumber,n.driverName=i.fullName):(n.driverPhone="",n.driverName="");var o={id:e.id,DateTime:e.dateTime,Customer:r.fullName,Location:e.location,OrderStatus:n.orderStatuses,driverPhonenumber:n.driverPhone,Total:e.total,Driver:n.driverName,DriverId:e.driver,CustomerId:e.customer,Vehicle:e.vehicle,orderLocation:e.orderLocation,restaurantName:n.listOfRestaurant.find(function(t){return t.id===+e.restaurantId}).name};n.listOfOrderProcessing.push(o),console.log(n.listOfOrderProcessing.length),n.listOfOrderProcessing.sort(function(e,t){return new Date(t.DateTime).getTime()-new Date(e.DateTime).getTime()})})}):(this.massge=!0,this.messageProcessingOrder="Preparing your order ...");case 6:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))})}},{key:"getCompeletedOrder",value:function(){var e=this;this.orderService.getAllOrder().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:this.listOfOrderCompeleted=[],this.UserId=localStorage.getItem("userId"),(r=t.filter(function(e){return e.orderStatuses.find(function(e){return 1==e.isChecked&&"delivered"==e.val})&&e.customer==n.UserId})).length>0?r.forEach(function(e){n.accountService.getAllAccount().subscribe(function(t){var r={id:e.id,DateTime:e.dateTime,Customer:t.find(function(t){return t.id==e.customer}).fullName,Location:e.location,OrderStatus:"Completed",Total:e.total,Driver:e.driver,Vehicle:e.vehicle,orderLocation:e.orderLocation,restaurantName:n.listOfRestaurant.find(function(t){return t.id===+e.restaurantId}).name};n.listOfOrderCompeleted.push(r),console.log(n.listOfOrderCompeleted.length),n.listOfOrderCompeleted.sort(function(e,t){return new Date(t.DateTime).getTime()-new Date(e.DateTime).getTime()}),console.log(n.listOfOrderCompeleted)})}):(this.massge=!0,this.messageCompleteOrder="Preparing your order ...");case 6:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))})}},{key:"getCancelledOrder",value:function(){var e=this;this.orderService.getAllOrder().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:this.listOfOrderCancelled=[],this.UserId=localStorage.getItem("userId"),(r=t.filter(function(e){return"false"==e.customerStatus&&e.customer==n.UserId})).length>0?r.forEach(function(e){n.accountService.getAllAccount().subscribe(function(t){var r={id:e.id,DateTime:e.dateTime,Customer:t.find(function(t){return t.id==e.customer}).fullName,Location:e.location,OrderStatus:"Cancelled",Total:e.total,Driver:e.driver,Vehicle:e.vehicle,orderLocation:e.orderLocation,restaurantName:n.listOfRestaurant.find(function(t){return t.id===+e.restaurantId}).name};n.listOfOrderCancelled.push(r),console.log(n.listOfOrderCancelled.length),n.listOfOrderCancelled.sort(function(e,t){return new Date(t.DateTime).getTime()-new Date(e.DateTime).getTime()}),console.log(n.listOfOrderCancelled)})}):(this.massge=!0,this.messageCancelOrder="Preparing your order ...");case 6:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))})}},{key:"getStatusOfOrder",value:function(e){this.a=0;for(var t=0;t<e.orderStatuses.length;t++)0==e.orderStatuses[t].isChecked?this.a=this.a+1:this.orderStatuses=e.orderStatuses[t].val;if(3==this.a)for(var r=0;r<e.restaurantStatuses.length;r++)1==e.restaurantStatuses[r].isChecked&&(this.orderStatuses=e.restaurantStatuses[r].val)}},{key:"viewOrder",value:function(e){var t=this;this.isLoading=!1,this.countItems=0,this.cart=[],this.listOfOrderDetails.filter(function(t){return t.orderId==e}).forEach(function(e){var r={CookingTime:t.listOfFood.find(function(t){return t.id==e.foodId}).cookingTime,DeliveryTime:t.listOfFood.find(function(t){return t.id==e.foodId}).deliveryTime,Description:t.listOfFood.find(function(t){return t.id==e.foodId}).description,Name:t.listOfFood.find(function(t){return t.id==e.foodId}).name,Price:t.listOfFood.find(function(t){return t.id==e.foodId}).price,amount:e.qty,categoryId:t.listOfFood.find(function(t){return t.id==e.foodId}).categoryId,id:e.foodId,picture:t.listOfFood.find(function(t){return t.id==e.foodId}).picture,restaurantId:t.listOfFood.find(function(t){return t.id==e.foodId}).restaurantId,type:t.listOfFood.find(function(t){return t.id==e.foodId}).type,orderDetailsId:e.id,orderStatus:!0};t.cart.push(r),t.countItems=t.cart.length,console.log(t.countItems)}),this.orderService.addOrder(this.cart),this.router.navigate(["/menu/order-history"])}},{key:"location",value:function(e){this.isLoading=!1,this.sharedService.status.next("order"),this.sharedService.RestaurantLocation.next(e),this.router.navigate(["/menu/location"])}},{key:"segmentChanged",value:function(e){this.segment=e.detail.value}},{key:"allOrder",value:function(e,t){this.isLoading=!0,this.modalController.create({component:l.a,cssClass:"customerOptions",componentProps:{data:e,id:t}}).then(function(e){e.present()})}},{key:"sendMessage",value:function(e,t,r){this.sharedService.driverName.next(r),this.sharedService.deriverId.next(e),this.sharedService.customerId.next(t),this.router.navigate(["/message"])}},{key:"callToDriver",value:function(e){this.callNumber.callNumber(e,!0).then(function(e){return console.log("Launched dialer!",e)}).catch(function(e){return console.log("Error launching dialer",e)})}},{key:"refresh",value:function(){var e=this;setTimeout(function(){e.getOrder()})}},{key:"refreshProcessingTask",value:function(){var e=this;setTimeout(function(){e.getProcessingOrder()},200)}},{key:"refreshCompleteTask",value:function(){var e=this;setTimeout(function(){e.getCompeletedOrder()},200)}},{key:"refreshCancelTask",value:function(){var e=this;setTimeout(function(){e.getCancelledOrder()},200)}},{key:"doRefresh",value:function(e){var t=this;setTimeout(function(){t.getOrder(),t.getProcessingOrder(),t.getCompeletedOrder(),t.getCancelledOrder(),e.target.complete()},2e3)}}]),e}(),T.\u0275fac=function(e){return new(e||T)(d.Qb(f.a),d.Qb(h.a),d.Qb(b.a),d.Qb(m.a),d.Qb(s.g),d.Qb(g.a),d.Qb(c.a),d.Qb(v.a),d.Qb(c.V),d.Qb(p.a),d.Qb(c.U),d.Qb(c.bb))},T.\u0275cmp=d.Kb({type:T,selectors:[["app-order"]],viewQuery:function(e,t){var r;1&e&&d.Ic(O,1),2&e&&d.uc(r=d.hc())&&(t.pageTop=r.first)},decls:30,vars:6,consts:[[3,"translucent"],["color","primary"],["slot","start"],["scrollEvents","true",3,"fullscreen","ionScroll"],["pageTop",""],["slot","fixed",3,"ionRefresh"],["scrollable","","value","All",2,"padding-top","70px",3,"ionChange"],["value","All"],["value","Processing"],["value","Completed"],["value","Cancelled"],[4,"ngIf"],["horizontal","end","vertical","bottom","slot","fixed"],["color","light",3,"click"],["md","chevron-up-outline","ios","chevron-up-circle-outline"],["class","ion-padding meal-row",3,"click",4,"ngFor","ngForOf"],["class","message",4,"ngIf"],[1,"ion-padding","meal-row",3,"click"],["size","8",1,"border-bottom"],["color","dark"],["size","4",1,"border-bottom"],[2,"color","#f8f9fa","background-color","#17a2b8","border-radius","5px","text-align","center"],[1,"message"],["class","ion-padding meal-row",4,"ngFor","ngForOf"],[1,"ion-padding","meal-row"],[2,"margin-top","-7px",3,"click"],["name","location-outline"],[2,"font-weight","bold"],["fill","clear",3,"click"],[2,"background-color","#2185d0","border-color","#2185d0","color","#fff","border-radius","0.28571429rem","margin",".25rem .5rem .25rem 0",3,"click"],[2,"border-radius","12px",3,"click"],["name","call"]],template:function(e,t){1&e&&(d.Vb(0,"ion-header",0),d.Vb(1,"ion-toolbar",1),d.Vb(2,"ion-buttons",2),d.Rb(3,"ion-menu-button"),d.Ub(),d.Vb(4,"ion-title"),d.Ec(5,"Recent orders"),d.Ub(),d.Ub(),d.Ub(),d.Vb(6,"ion-content",3,4),d.gc("ionScroll",function(e){return t.onScroll(e)}),d.Vb(8,"ion-refresher",5),d.gc("ionRefresh",function(e){return t.doRefresh(e)}),d.Rb(9,"ion-refresher-content"),d.Ub(),d.Vb(10,"ion-segment",6),d.gc("ionChange",function(e){return t.segmentChanged(e)}),d.Vb(11,"ion-segment-button",7),d.Vb(12,"ion-label"),d.Ec(13," All "),d.Ub(),d.Ub(),d.Vb(14,"ion-segment-button",8),d.Vb(15,"ion-label"),d.Ec(16," Processing "),d.Ub(),d.Ub(),d.Vb(17,"ion-segment-button",9),d.Vb(18,"ion-label"),d.Ec(19," Completed "),d.Ub(),d.Ub(),d.Vb(20,"ion-segment-button",10),d.Vb(21,"ion-label"),d.Ec(22," Cancelled "),d.Ub(),d.Ub(),d.Ub(),d.Cc(23,w,3,2,"ion-list",11),d.Cc(24,U,3,2,"ion-list",11),d.Cc(25,x,3,2,"ion-list",11),d.Cc(26,V,3,2,"ion-list",11),d.Vb(27,"ion-fab",12),d.Vb(28,"ion-fab-button",13),d.gc("click",function(){return t.pageScroller()}),d.Rb(29,"ion-icon",14),d.Ub(),d.Ub(),d.Ub()),2&e&&(d.oc("translucent",!0),d.Eb(6),d.oc("fullscreen",!0),d.Eb(17),d.oc("ngIf","All"===t.segment),d.Eb(1),d.oc("ngIf","Processing"===t.segment),d.Eb(1),d.oc("ngIf","Completed"===t.segment),d.Eb(1),d.oc("ngIf","Cancelled"===t.segment))},directives:[c.r,c.R,c.j,c.A,c.P,c.l,c.C,c.D,c.H,c.Z,c.I,c.x,n.n,c.n,c.o,c.s,c.y,n.m,c.F,c.k,c.O,c.i],pipes:[n.f,n.d],styles:["ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px}ion-content[_ngcontent-%COMP%]{position:absolute;--background:#f8f9fa;--padding-bottom:50px}ion-content[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%]{margin-top:58px}.light-bg[_ngcontent-%COMP%]{background:#fff;z-index:10}.meal-row[_ngcontent-%COMP%]{padding-bottom:0}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150,rgba(0,0,0,.07))}#map[_ngcontent-%COMP%]{width:60%;height:280px}.message[_ngcontent-%COMP%]{padding-top:83px;padding-left:12px;color:#337ab7;font-size:27px}ion-slides[_ngcontent-%COMP%]{padding-right:0;margin-top:34px;margin-bottom:-34px;background:#e9ecef;top:calc(env(safe-area-inset-top) - 34px)}.sticky-row[_ngcontent-%COMP%]{position:sticky;top:calc(env(safe-area-inset-top) - -55px);z-index:2;background:#e9ecef;box-shadow:0 9px 11px -15px rgba(0,0,0,.75);display:flex;flex-direction:row;align-items:flex-end}.message[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:88px}"]}),T)}],F=((A=function e(){i(this,e)}).\u0275fac=function(e){return new(e||A)},A.\u0275mod=d.Ob({type:A}),A.\u0275inj=d.Nb({imports:[[s.j.forChild(L)],s.j]}),A),j=((D=function e(){i(this,e)}).\u0275fac=function(e){return new(e||D)},D.\u0275mod=d.Ob({type:D}),D.\u0275inj=d.Nb({imports:[[n.c,o.e,c.S,F]]}),D)},"8D9V":function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r("HDdC"),o=r("/GcI"),c=r("XEKg"),s=r("5Jak"),u=r("cxbk"),l=r("fXoL"),d=r("tk/3"),f=function(){var e=function(){function e(t){i(this,e),this.http=t,this.APIURL=u.a.apiURL}return a(e,[{key:"create",value:function(e){return this.http.post(this.APIURL+"/OrderDetail",e)}},{key:"getAllOrderDetail",value:function(){return this.http.get(this.APIURL+"/OrderDetail")}},{key:"updateOrderDetail",value:function(e){return this.http.put(this.APIURL+"/OrderDetail/",e)}},{key:"removeOrderDetail",value:function(e){return this.http.delete(this.APIURL+"/OrderDetail/"+e).toPromise()}},{key:"handleError",value:function(e){return n.a.throw(400===e.status?new c.a(e.json()):404===e.status?new s.a:new o.a(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.cc(d.a))},e.\u0275prov=l.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"Dkj+":function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r("HDdC"),o=r("cxbk"),c=r("/GcI"),s=r("XEKg"),u=r("5Jak"),l=r("fXoL"),d=r("tk/3"),f=function(){var e=function(){function e(t){i(this,e),this.http=t,this.APIURL=o.a.apiURL}return a(e,[{key:"create",value:function(e){return this.http.post(this.APIURL+"/Food",e)}},{key:"getAllFood",value:function(){return this.http.get(this.APIURL+"/Food")}},{key:"updateFood",value:function(e){return this.http.put(this.APIURL+"/Food/",e)}},{key:"removeFood",value:function(e){return this.http.delete(this.APIURL+"/Food/"+e).toPromise()}},{key:"handleError",value:function(e){return n.a.throw(400===e.status?new s.a(e.json()):404===e.status?new u.a:new c.a(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.cc(d.a))},e.\u0275prov=l.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},VNSQ:function(r,n,o){"use strict";o.d(n,"a",function(){return f});var c=o("2Vo4"),s=o("cxbk"),u=o("fXoL"),l=o("tk/3"),d=o("ldse"),f=function(){var r=function(){function r(e,t){i(this,r),this.http=e,this.sharedService=t,this.APIURL=s.a.apiURL,this.cart=[],this.cartItemCount=new c.a(0),this.RestaurantId=new c.a({}),this.orderStatus=new c.a({}),this.order=[],this.orderItemCount=new c.a(0)}return a(r,[{key:"create",value:function(e){return this.http.post(this.APIURL+"/Order",e)}},{key:"getAllOrder",value:function(){return this.http.get(this.APIURL+"/Order")}},{key:"updateOrder",value:function(e){return this.http.put(this.APIURL+"/Order/",e)}},{key:"removeOrder",value:function(e){return this.http.delete(this.APIURL+"/Order/"+e).toPromise()}},{key:"getOrderBy",value:function(e){return this.http.get(this.APIURL+"/Order"+e)}},{key:"getOrderByDriverId",value:function(e){return this.http.get(this.APIURL+"/Order"+e)}},{key:"getCart",value:function(){return this.cart}},{key:"getOrders",value:function(){return this.order}},{key:"getCartItemCount",value:function(){return this.cartItemCount}},{key:"getOrderItemCount",value:function(){return this.orderItemCount}},{key:"getRestaurantId",value:function(){return this.RestaurantId}},{key:"getOrderStatus",value:function(){return this.orderStatus}},{key:"addOrder",value:function(e){var t=this;this.order=[],this.amount=0,this.order.forEach(function(e){var r=t.order.indexOf(function(t){return t.orderDetailsId===e.orderDetailsId});t.order.splice(r,1)}),this.orderItemCount.next(0),e.forEach(function(e){t.amount=t.amount+e.amount,t.order.push({CookingTime:e.CookingTime,DeliveryTime:e.DeliveryTime,Description:e.Description,Name:e.Name,Price:e.Price,amount:e.amount,categoryId:e.categoryId,id:e.Food,picture:e.picture,restaurantId:e.restaurantId,type:e.type,orderDetailsId:e.orderDetailsId})}),this.orderItemCount.next(this.orderItemCount.value+this.amount)}},{key:"addProduct",value:function(e){var r,n=!1,i=t(this.cart);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.id===e.id){o.amount+=1,n=!0;break}}}catch(a){i.e(a)}finally{i.f()}n||(e.amount=1,this.cart.push(e)),this.cartItemCount.next(this.cartItemCount.value+1)}},{key:"decreaseProduct",value:function(r){var n,i=t(this.cart.entries());try{for(i.s();!(n=i.n()).done;){var o=e(n.value,2),a=o[0],c=o[1];c.id===r.id&&(c.amount-=1,0===c.amount&&this.cart.splice(a,1))}}catch(s){i.e(s)}finally{i.f()}this.cartItemCount.next(this.cartItemCount.value-1)}},{key:"removeProduct",value:function(r){var n,i=t(this.cart.entries());try{for(i.s();!(n=i.n()).done;){var o=e(n.value,2),a=o[0],c=o[1];c.id===r.id&&(this.cartItemCount.next(this.cartItemCount.value-c.amount),this.cart.splice(a,1))}}catch(s){i.e(s)}finally{i.f()}}}]),r}();return r.\u0275fac=function(e){return new(e||r)(u.cc(l.a),u.cc(d.a))},r.\u0275prov=u.Mb({token:r,factory:r.\u0275fac,providedIn:"root"}),r}()},ldse:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r("2Vo4"),o=r("fXoL"),c=function(){var e=function(){function e(){i(this,e),this.currentAddress=new n.a({}),this.restaurant=new n.a({}),this.status=new n.a({}),this.location=new n.a({}),this.orderId=new n.a({}),this.RestaurantLocation=new n.a({}),this.resId=new n.a({}),this.listOfCatagoryFilter=new n.a({}),this.deriverId=new n.a({}),this.customerId=new n.a({}),this.driverName=new n.a({})}return a(e,[{key:"getCurrentAddress",value:function(){return this.currentAddress}},{key:"getMenuFilter",value:function(){return this.listOfCatagoryFilter}},{key:"getLocation",value:function(){return this.location}},{key:"getStatus",value:function(){return this.status}},{key:"getRestaurantLocation",value:function(){return this.RestaurantLocation}},{key:"getRestaurantId",value:function(){return this.resId}},{key:"getDriverId",value:function(){return this.deriverId}},{key:"getCustomerId",value:function(){return this.customerId}},{key:"getDriverName",value:function(){return this.driverName}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();